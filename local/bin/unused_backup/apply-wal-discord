#!/bin/bash

# Generate Discord theme from pywal colors
echo "Generating Discord theme from pywal colors..."
wal-discord

# Check if BetterDiscord is properly installed
if [ -d "$HOME/.config/BetterDiscord/themes" ] && [ -f "$HOME/.config/BetterDiscord/data/betterdiscord.asar" ]; then
    # Copy theme to BetterDiscord themes directory
    echo "Applying theme to BetterDiscord..."
    cp ~/.cache/wal-discord/style.css ~/.config/BetterDiscord/themes/wal-discord.css
    echo "âœ… wal-discord theme has been applied to BetterDiscord!"
    echo "ğŸ“ Go to Discord Settings â†’ BetterDiscord â†’ Themes and enable 'wal-discord'"
else
    echo "âš ï¸  BetterDiscord no estÃ¡ completamente instalado."
    echo "ğŸ“¦ Para instalar BetterDiscord:"
    echo "   1. sudo pacman -S aur/betterdiscord-installer"
    echo "   2. Ejecuta el instalador y selecciona /opt/discord/"
    echo ""
    echo "ğŸ”„ O mejor aÃºn, usa Vesktop (Discord client con Vencord integrado):"
    echo "   sudo pacman -S aur/vesktop-bin"
    echo ""
    echo "ğŸ“ El theme CSS estÃ¡ listo en: ~/.cache/wal-discord/style.css"
    echo "ğŸ“‹ Puedes copiarlo manualmente al client de Discord que prefieras"
fi
