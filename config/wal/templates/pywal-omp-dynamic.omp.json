{{
  "$schema": "https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json",
  "console_title_template": "{{ .Shell }} in {{ .Folder }}",
  "blocks": [
    {{
      "type": "prompt",
      "alignment": "left",
      "segments": [
        {{
          "properties": {{
            "cache_duration": "none",
            "folder_separator_icon": " {icon} ",
            "home_icon": "",
            "max_depth": 2,
            "style": "folder"
          }},
          "template": " {icon} {{{{ .Path }}}} ",
          "foreground": "{foreground}",
          "powerline_symbol": "",
          "background": "{color6}",
          "type": "path",
          "style": "powerline"
        }},
        {{
          "properties": {{
            "branch_icon": " ",
            "cache_duration": "none",
            "fetch_status": true,
            "fetch_upstream_icon": true
          }},
          "template": " {{{{ .HEAD }}}}{{{{if .BranchStatus }}}} {{{{ .BranchStatus }}}}{{{{ end }}}}{{{{ if .Working.Changed }}}} {{{{ .Working.String }}}}{{{{ end }}}}{{{{ if and (.Working.Changed) (.Staging.Changed) }}}} |{{{{ end }}}}{{{{ if .Staging.Changed }}}} {{{{ .Staging.String }}}}{{{{ end }}}} ",
          "foreground": "{background}",
          "powerline_symbol": "",
          "background": "{color2}",
          "type": "git",
          "style": "powerline",
          "background_templates": [
            "{{{{ if or (.Working.Changed) (.Staging.Changed) }}}}{color3}{{{{ end }}}}",
            "{{{{ if and (gt .Ahead 0) (gt .Behind 0) }}}}{color1}{{{{ end }}}}",
            "{{{{ if gt .Ahead 0 }}}}{color4}{{{{ end }}}}",
            "{{{{ if gt .Behind 0 }}}}{color1}{{{{ end }}}}"
          ]
        }},
        {{
          "properties": {{
            "cache_duration": "none",
            "fetch_version": true
          }},
          "template": "  {{{{ if .PackageManagerIcon }}}}{{{{ .PackageManagerIcon }}}} {{{{ end }}}}{{{{ .Full }}}} ",
          "foreground": "{background}",
          "powerline_symbol": "",
          "background": "{color2}",
          "type": "node",
          "style": "powerline"
        }},
        {{
          "properties": {{
            "cache_duration": "none"
          }},
          "template": "  {{{{ if .Error }}}}{{{{ .Error }}}}{{{{ else }}}}{{{{ if .Venv }}}}{{{{ .Venv }}}} {{{{ end }}}}{{{{ .Full }}}}{{{{ end }}}} ",
          "foreground": "{background}",
          "powerline_symbol": "",
          "background": "{color5}",
          "type": "python",
          "style": "powerline"
        }}
      ]
    }},
    {{
      "type": "prompt",
      "alignment": "left",
      "segments": [
        {{
          "properties": {{
            "cache_duration": "none"
          }},
          "template": "{{{{ if gt .Code 0 }}}}{{{{ else }}}}{{{{ end }}}}",
          "foreground": "{color2}",
          "type": "status",
          "style": "plain",
          "foreground_templates": [
            "{{{{ if gt .Code 0 }}}}{color1}{{{{ end }}}}"
          ]
        }},
        {{
          "properties": {{
            "cache_duration": "none"
          }},
          "template": "  ",
          "foreground": "{color6}",
          "type": "text",
          "style": "plain"
        }}
      ],
      "newline": true
    }}
  ],
  "version": 3,
  "final_space": true
}}
