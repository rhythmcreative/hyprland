#!/bin/bash

# Script universal para sincronizar todos los themes con pywal
# Funciona tanto con Oh My Posh (bash) como con Powerlevel10k (zsh)

echo "üåà Sincronizando todos los themes con pywal..."

# Verificar que pywal est√© configurado
if [[ ! -f "$HOME/.cache/wal/colors.json" ]]; then
    echo "‚ùå No se encontraron colores de pywal."
    echo "üí° Ejecuta 'wal -i /ruta/a/imagen' primero."
    exit 1
fi

# Sincronizar Oh My Posh (bash)
if [[ -f "$HOME/.config/oh-my-posh/pywal-theme.omp.json" ]]; then
    echo "üöÄ Sincronizando Oh My Posh..."
    "$HOME/.local/bin/sync-omp-pywal"
    echo ""
fi

# Sincronizar Powerlevel10k (zsh)
if [[ -f "$HOME/Hyde/Configs/.config/zsh/.p10k.zsh" || -f "$HOME/.p10k.zsh" ]]; then
    echo "‚ö° Sincronizando Powerlevel10k..."
    "$HOME/.local/bin/sync-p10k-pywal"
    echo ""
fi

# Sincronizar Kitty
echo "üê± Sincronizando bordes de Kitty..."
"$HOME/.local/bin/sync-kitty-pywal"
echo ""

echo "‚úÖ ¬°Sincronizaci√≥n completa!"
echo ""
echo "üí° Instrucciones para ver los cambios:"
echo "   ‚Ä¢ En bash: Abre una nueva terminal o ejecuta 'source ~/.bashrc'"
echo "   ‚Ä¢ En zsh: Abre una nueva terminal o ejecuta 'source ~/.zshrc'"
echo "   ‚Ä¢ En Kitty: Los colores ya est√°n actualizados"
