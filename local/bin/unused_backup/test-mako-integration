#!/bin/bash

echo "ğŸ§ª Probando integraciÃ³n completa de Mako con pywal..."
echo ""

# Mostrar colores actuales de pywal
if [[ -f ~/.cache/wal/colors.sh ]]; then
    source ~/.cache/wal/colors.sh
    echo "ğŸ¨ Colores actuales de pywal:"
    echo "   Background: $background"
    echo "   Foreground: $foreground"
    echo "   Color1: $color1"
    echo "   Color2: $color2"
    echo ""
else
    echo "âš ï¸ No se encontraron colores de pywal"
    exit 1
fi

# Verificar configuraciÃ³n de Mako
echo "ğŸ”§ Verificando configuraciÃ³n de Mako..."
if [[ -f ~/.config/mako/config ]]; then
    echo "âœ… ConfiguraciÃ³n encontrada"
    # Mostrar las primeras lÃ­neas que contienen colores
    echo "ğŸ“‹ Colores configurados en Mako:"
    grep -E "background-color|text-color|border-color" ~/.config/mako/config | head -3
    echo ""
else
    echo "âŒ ConfiguraciÃ³n no encontrada"
    exit 1
fi

# Probar notificaciones con diferentes tipos
echo "ğŸš€ Enviando notificaciones de prueba..."

# NotificaciÃ³n general
notify-send "ğŸ”” General" "Esta notificaciÃ³n usa los colores sincronizados de pywal" &
sleep 1

# NotificaciÃ³n de volumen (estilo simplificado)
notify-send -a volume "ğŸ”Š Volumen" "75% - Estilo simplificado y limpio" &
sleep 1

# NotificaciÃ³n de audio
notify-send "ğŸµ Audio" "NotificaciÃ³n de audio con colores del wallpaper" &

echo ""
echo "âœ¨ IntegraciÃ³n probada exitosamente!"
echo ""
echo "ğŸ’¡ PrÃ³ximos pasos:"
echo "   - Cambia el wallpaper con Super + Shift + W"
echo "   - Los colores de Mako se actualizarÃ¡n automÃ¡ticamente"
echo "   - Las notificaciones siempre harÃ¡n juego con tu wallpaper"
