#!/bin/bash

# Monitor de cambios del tema GTK para sincronizar Mission Center
echo "üîç Iniciando monitor de tema GTK para Mission Center..."

# Funci√≥n para sincronizar
sync_theme() {
    echo "üì± Cambio detectado, sincronizando..."
    /home/rhythmcreative/.local/bin/sync-mission-center-gtk
}

# Monitorear cambios en el esquema de colores
gsettings monitor org.gnome.desktop.interface color-scheme | while read -r line; do
    if [[ $line == *"color-scheme"* ]]; then
        sync_theme
    fi
done &

# Monitorear cambios en el tema GTK
gsettings monitor org.gnome.desktop.interface gtk-theme | while read -r line; do
    if [[ $line == *"gtk-theme"* ]]; then
        sync_theme
    fi
done &

echo "‚úÖ Monitor activo. Presiona Ctrl+C para detener."
wait
