#!/bin/bash

# Script para probar la sincronizaciÃ³n de waybar con pywal
# Cambia entre diferentes wallpapers y verifica que waybar se sincroniza

echo "ğŸ§ª Probando sincronizaciÃ³n waybar-pywal..."

# Array de wallpapers disponibles
wallpapers=(~/Pictures/Wallpapers/*.{jpg,png,jpeg})

# Verificar si hay wallpapers disponibles
if [ ${#wallpapers[@]} -eq 0 ]; then
    echo "âŒ No se encontraron wallpapers en ~/Pictures/Wallpapers/"
    exit 1
fi

echo "ğŸ“¸ Wallpapers encontrados: ${#wallpapers[@]}"

# Seleccionar un wallpaper aleatorio
random_wallpaper="${wallpapers[RANDOM % ${#wallpapers[@]}]}"

echo "ğŸ¯ Wallpaper seleccionado: $(basename "$random_wallpaper")"

# Usar nuestro script de sincronizaciÃ³n
echo "ğŸ”„ Ejecutando sincronizaciÃ³n..."
sync-waybar-pywal "$random_wallpaper"

echo "âœ… Prueba completada!"
echo "ğŸ’¡ Verifica que waybar haya cambiado de colores"
echo "ğŸ”§ TambiÃ©n puedes usar: SUPER+SHIFT+CTRL+W para sincronizar manualmente"
